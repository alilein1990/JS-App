let pokemonRepository=function(){let e=[];function t(){return e}function n(){return e}function i(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("Please use only the keys: name & detailsUrl")}function o(e){return r(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.abilities=t.abilities,e.height=t.height,e.types=t.types,l()}).catch(function(e){console.trace(e),l()})}function a(e){o(e).then(function(){var t;let n,i,o,a,r,l,c,s;t=e,n=document.querySelector(".modal-title"),i=document.querySelector(".modal-body"),n.innerText="",i.innerText="",n.innerText=t.name,o=document.createElement("img"),o.src=t.imageUrl,console.log("img2",o),a=document.createElement("p"),a.innerText="Height: "+t.height,r=document.createElement("p"),l=t.abilities.map(e=>e.ability.name),r.innerText="Abilities: "+l.map(e=>e.charAt(0).toUpperCase()+e.slice(1)),c=document.createElement("p"),s=t.types.map(e=>e.type.name),c.innerText="Types: "+s.map(e=>e.charAt(0).toUpperCase()+e.slice(1)),i.appendChild(a),i.appendChild(c),i.appendChild(r),i.appendChild(o)})}function r(){let e=document.createElement("h2");return e.classList.add("load-message"),e.innerHTML="The List Is Loading...",document.body.appendChild(e),e}function l(){let e=document.querySelector(".load-message");document.body.removeChild(e)}return{getAll:n,add:i,addListItem:function e(t){o(t).then(function(){let e=document.querySelector(".pokemon-list"),n=document.createElement("div");n.classList.add("button-div","col-6","col-md-3","col-sm-4","mb-3");let i=document.createElement("button");i.classList.add("button-class"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokemonModal");let o=document.createElement("div");o.classList.add("div-name"),o.innerText=t.name;let r=document.createElement("img");r.src=t.imageUrl,r.alt="A picture of "+t.name,i.appendChild(o),i.appendChild(r),n.appendChild(i),e.appendChild(n),function e(t,n){t.addEventListener("click",function(){a(n)})}(i,t)})},showDetails:a,loadList:function e(){return r(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})}),l()}).catch(function(e){console.error(e),l()})},loadDetails:o,getPokemonList:t,displayLoadingMessage:r}}();function findPokemon(){var e=document.querySelectorAll(".button-div");e.forEach(function(e){e.style.display=""});var t=document.querySelector("#searchInput").value.toUpperCase(),n=!1;for(let i=0;i<e.length;i++)e[i].querySelector(".div-name").innerText.indexOf(t)>-1?(e[i].style.display="",n=!0):e[i].style.display="none";var o=document.querySelector(".no-pokemon-message");if(o&&o.remove(),!n){var a=document.querySelector("main"),r=document.createElement("h2");r.classList.add("no-pokemon-message"),r.innerText="No Pokemon Matches The Search, Please Try Again. \uD83D\uDE03",a.appendChild(r)}document.querySelector("#searchInput").value=""}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),document.querySelector("#searchButton").addEventListener("click",findPokemon),document.querySelector("#searchInput").addEventListener("keydown",function(e){"Enter"===e.key&&findPokemon()});